% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocessing.R
\name{mfcurve_preprocessing}
\alias{mfcurve_preprocessing}
\title{Preprocess Data for Multi-Factor Curve Analysis}
\usage{
mfcurve_preprocessing(
  data,
  outcome_var,
  factors,
  groupvar = NULL,
  rounding = 2,
  plotOrigin = FALSE
)
}
\arguments{
\item{data}{A data frame containing the dataset to be analyzed.}

\item{outcome_var}{A character string indicating the outcome variable (e.g., "wage").}

\item{factors}{A character vector of factor variable names used to define groups (e.g., c("race", "south", "union")).}

\item{groupvar}{Optional. A character string indicating an existing group variable. If NULL (default), a new group variable is created by concatenating the factors.}

\item{rounding}{An integer specifying the number of decimal places to round computed summary statistics (default: 2).}

\item{plotOrigin}{Logical. If TRUE, ensures that (0,0) is included in plots (default: FALSE).}
}
\value{
A data frame containing the following columns:
\item{group}{A character vector that uniquely identifies each group (combination of factor levels).}
\item{mean_outcome}{The mean of the outcome variable for each group.}
\item{sd_outcome}{The standard deviation of the outcome variable for each group.}
\item{n}{The number of observations in each group.}
\item{rank}{The rank of each group based on the mean outcome (sorted in ascending order).}
\item{\if{html}{\out{<factor variables>}}}{Each input factor as a separate column, extracted from the concatenated group identifier.}
}
\description{
This function prepares the input dataset for a multi-factor curve analysis. It performs the following steps:
\enumerate{
\item Removes rows with missing values in the specified outcome variable and factor variables.
\item Creates a "group" variable by concatenating the specified factor variables (if a group variable is not already provided).
\item Calculates group-level summary statistics including the mean outcome, standard deviation, and number of observations.
\item Ranks the groups in ascending order based on the mean outcome.
\item Rounds numerical summary values to a specified number of decimal places for better visualization.
\item Optionally ensures that the coordinate origin (0,0) is included in subsequent plots.
}
}
\examples{
\dontrun{
set.seed(123)
df <- data.frame(
  wage = rnorm(1000, mean = 15, sd = 5),
  race = sample(c("White", "Black", "Other"), 1000, replace = TRUE),
  south = sample(c("Yes", "No"), 1000, replace = TRUE),
  union = sample(c("Yes", "No"), 1000, replace = TRUE)
)
preprocessed_data <- mfcurve_preprocessing(df, outcome_var = "wage",
                                           factors = c("race", "south", "union"))
}

}
